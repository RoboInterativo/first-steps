# Настройка вебсервера nginx

## Введение
Для настройки сервера требуется командная строка, ее иначе называют `shell`
На современных **Windows** уже установлен `ssh` клиент. для входа на сервер
используйте такую команду.

```bash
ssh root@184.1.1.1
```
Обратите внимание что при вводе пароля не отображется символ, это нормально и
и сделано для безопасности.

## Задание 1 PHP сайт


* Устновить nginx
* Установтиь php-fpm
* Настроить конфигурацию nginx для PHP
* Протестировать правильность работы php странцей с `<?php phpinfo(); ?>`
* Установка mysql
* Создание базы данных и пользователя
* Настраиваем конфиг, на домен
* Скачиваем wordpress
* Распаковываем
* Запуска установки

## Задание 2 Python сайт
* Создаем папку для Flask
* Устанавливаем python3.11-12 и зависимости
* Установка python3-venv
* Создание Виртуальной среды
* Активация виртуальной среды и установка python пакетов
* Создаем просто сайт Flask
* Создаем systemd демон для запуска Flask

Далее добавляем по nginx
* Создаем новый конфиг для flask в nginx
* Активируем конфиг
## Задание 1. Решение

```
apt install && apt install nginx php-fpm
```

Конфиг для поддержки php
Открываем редактор

```shell
nano /etc/nginx/sites-available/default
```


```shell
# Default server configuration
server {
        listen 80 default_server;
        listen [::]:80 default_server;
        root /var/www/html;
        index index.php index.html index.htm index.nginx-debian.html;
        server_name wordpress.geekslore.ru;

        location / {

                try_files $uri $uri/ =404;
        }

        # pass PHP scripts to FastCGI server
        #
        location ~ \.php$ {
               include snippets/fastcgi-php.conf;

        #       # With php-fpm (or other unix sockets):
               fastcgi_pass unix:/run/php/php8.1-fpm.sock;
        #       # With php-cgi (or other tcp sockets):
        #       fastcgi_pass 127.0.0.1:9000;
        }

}
```

Тестовый php файл

Редактируем файл страницы
```
nano /var/www/html/index.php
```
Вставляем в файл
```php
<?php
phpinfo();
?>
```


Добавляем проксирование для сайта
на выданной ВМ машине, установить вебсервер **nginx**. После установки убедитесь,
что вебсервер запущен и отдает тестовую страницу.

Далее. Установка **php-fpm** без него не буд  


##
## Установка nginx


```bash
apt update && apt install nginx
```
